<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
    <head th:replace="templates :: head"/>
    <body>
        <div th:replace="templates :: menuAlumno"/>
		<div class="content1">
			<h1>Lista de ofertas</h1>
			<form method="POST" th:action="@{/offerPreferences/update}" th:object="${preferencesContainer}"
			 th:if="${!preferencesContainer.isEmpty()}">
				<table class="list">
					<tr>
						<th>Proyecto</th>
						<th>Empresa</th>
						<th>Orden</th>
						<th>Eliminar</th>
					</tr>
					<tr th:each="currPreference, currPrefKey : *{preferences}">
						<input type="hidden" th:field="*{preferences[__${currPrefKey.index}__].id}"/>
						<td th:text="${currPreference.ofertaProyecto.titulo}"/>
						<td th:text="${currPreference.empresa.nombre}"/>
						<td><input type="number" th:field="*{preferences[__${currPrefKey.index}__].orden}"/></td>
						<td><input type="checkbox" th:field="*{selectedPreferences}" th:value="${currPreference.id}"/></td>
					</tr>
				</table>
				<input type="submit" value="Aplicar cambios" class="button3"/>
			</form>
			<div th:if="${preferencesContainer.isEmpty()}">
				<h2>No tienes ninguna preferencia...</h2>
			</div>
		</div>
        <div th:replace="templates :: footer"/>
	</body>
</html>
